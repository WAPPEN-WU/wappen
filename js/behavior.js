/*===========================================================
	Copyright : 
	Created   : 2017-5-2
	Modified  : 2017-5-2
===========================================================*/
function wheelEnabled(t){_wheelEnabled=t}function wheel(t){_wheelEnabled||(t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1)}function imageLoad(t,e){var i=0,n=0;for(i;i<t.length;++i){var r=$(new Image);r.attr("src",t[i]),r.complete?(n++,n==t.length&&e.call(this)):r.on("load",function(){n++,n==t.length&&e.call(this)})}}var userAgent=window.navigator.userAgent.toLowerCase(),appVersion=window.navigator.appVersion.toLowerCase(),browser="unknown",browser_ver="unknown",ios="",ios_ver="";-1!=userAgent.indexOf("msie")?(browser="ie",-1!=appVersion.indexOf("msie 6.")?browser_ver="6":-1!=appVersion.indexOf("msie 7.")?browser_ver="7":-1!=appVersion.indexOf("msie 8.")?browser_ver="8":-1!=appVersion.indexOf("msie 9.")?browser_ver="9":-1!=appVersion.indexOf("msie 10.")&&(browser_ver="10")):-1!=userAgent.indexOf("trident")?(browser="ie",-1!=appVersion.indexOf("rv:11.")&&(browser_ver="11")):-1!=userAgent.indexOf("safari")?browser="safari":-1!=userAgent.indexOf("firefox")?browser="firefox":-1!=userAgent.indexOf("chrome")&&(browser="chrome");var os,pf;pf=navigator.platform,os=-1!=pf.indexOf("Win")?"win":pf.match(/Mac|PPC/)?"mac":pf.match(/Linux/)?"Linux":pf.match(/^.*\s([A-Za-z]+BSD)/)?RegExp.$1:pf.match(/SunOS/)?"Solaris":"N/A";var _wheelEnabled=!0;window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=wheel,"ie"!=browser||"8"!=browser_ver&&"7"!=browser_ver||function(){"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){var i;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),i=this.length;i>e;){if(e in this&&this[e]===t)return e;e++}return-1})}.call(this),$.fn.imagesLoaded=function(t){var e=$(this),i=0,n=e.length;e.each(function(){var e=new Image;e.src=$(this).attr("src");var r=setTimeout(function(){i++,i==n&&t.call(this)},1e4);e.complete?(clearTimeout(r),i++,i==n&&t.call(this)):e.onload=function(){clearTimeout(r),i++,i==n&&t.call(this)}})},$(function(){function t(t,e){return Math.floor(Math.random()*(1+t-e)+e)}function e(i){setTimeout(function(){TweenMax.to("#home .cover2",.3,{y:"203px",ease:Power4.easeInOut,onComplete:function(){e(t(8e3,2e3))}}).yoyo(!0).repeat(1)},i)}function i(t,e,i,n,r){wheelEnabled(!1);var s;s="#footer"==e?l.height():$(e).offset().top,s+=r,u=l.height()-s;var o=window.innerHeight?window.innerHeight:a.height();o>u&&(s=l.height()-o),TweenMax.to(window,n,{scrollTo:{y:s},ease:i,onComplete:function(){_wheelEnabled=!0}})}function n(t,e){$(".zoomBg").show(),$(".zoomImg").attr("src",e),v.kill(),_.restart(),$(".zoomImg").imagesLoaded(function(){$(".zoomWrap").show(),TweenMax.fromTo(".zoomWrap",.6,{opacity:0,scale:.95},{opacity:1,scale:1,ease:Back.easeOut.config(5)}).delay(.5)})}function r(){$("body").css({height:"",overflow:""}),TweenMax.set("#wrap",{clearProps:"margin-top"}),console.log(g),TweenMax.set(window,{scrollTo:{y:g}}),_.kill(),v.restart()}var s,o=$("body"),a=$(window),l=$(document),u=l.scrollTop(),h=l.scrollLeft();s="ie"==browser||"firefox"==browser?$("html"):o;{var c=new ScrollMagic.Controller,f=new ScrollMagic.Scene({triggerElement:"#about",duration:2*a.height()}).setTween("#home",1,{y:-a.height()/4,ease:Power2.easeOut}).triggerHook(1).addTo(c);new ScrollMagic.Scene({triggerElement:"#about",duration:100}).setTween("#home",1,{opacity:0,ease:Power2.easeOut}).triggerHook(0).addTo(c),new ScrollMagic.Scene({triggerElement:"#about"}).setVelocity(".scrolldown",{opacity:0},{duration:300,ease:Power2.easeOut}).triggerHook(.99).addTo(c),new ScrollMagic.Scene({triggerElement:"#about"}).on("enter leave",function(t){"enter"==t.type?p.restart():(p.pause(),d.restart())}).setClassToggle("#news","close").triggerHook(.99).addTo(c),new ScrollMagic.Scene({triggerElement:"#trigger2",duration:60}).setTween("#inquiry .btn01 .img",{height:"100%",ease:Linear.easeNone}).triggerHook(0).addTo(c)}TweenMax.set("#news .chara .arm1",{transformOrigin:"80% top 0",transformStyle:"preserve-3d",transformPerspective:400}),TweenMax.set("#news .chara .arm2",{transformOrigin:"20% top 0",transformStyle:"preserve-3d",transformPerspective:400});var p=new TimelineMax,d=new TimelineMax;if(p.to("#news .chara",1.2,{y:"-20px",ease:Power2.easeOut},"move").to("#news .chara .body",.2,{y:"-5px",repeat:5,yoyo:!0,ease:Power2.easeInOut},"move").to("#news .chara .arm1",.2,{rotationZ:"90deg",repeat:5,yoyo:!0,ease:Power2.easeInOut},"move+=0").to("#news .chara .arm2",.2,{rotationZ:"-90deg",repeat:5,yoyo:!0,ease:Power2.easeInOut},"move+=0").yoyo(!0).repeat(-1).pause(),d.to("#news .chara",.3,{y:0,ease:Power2.easeInOut},"move").to("#news .chara .body",.3,{y:0,ease:Power2.easeInOut},"move").to("#news .chara .arm1",.3,{rotationZ:0,ease:Power2.easeInOut},"move+=0").to("#news .chara .arm2",.3,{rotationZ:0,ease:Power2.easeInOut},"move+=0").pause(),u>0&&p.restart(),$("#news").hover(function(){$(this).addClass("open")},function(){$(this).removeClass("open")}),$("#home")[0]){{var m=new TimelineMax,f=document.getElementById("home");new Parallax(f,{relativeInput:!0,clipRelativeInput:!1,hoverOnly:!1,calibrateX:!1,calibrateY:!1,invertX:!1,invertY:!1,limitX:40,limitY:40,scalarX:10,scalarY:10,frictionX:.5,frictionY:.5,originX:.5,originY:.5,precision:10,pointerEvents:!1})}e(1e3),m.staggerFromTo("#wrap #contentsArea #home .sec1 h1, #wrap #gnav ul li, #wrap #inquiry .btn01, #wrap #inquiry .btn02, #wrap #news .inner, #wrap #news .chara, #wrap #news .img1, #wrap #contentsArea #home .sec1 .scrolldown",.5,{opacity:0,y:"20px"},{opacity:1,y:0,ease:Back.easeOut.config(3)},.1).pause(),$("img").imagesLoaded(function(){setTimeout(function(){m.restart()},1e3)})}$(".hash").on("click",function(){return i($(this),this.hash,"Power2.easeInOut",.6,0),!1}),$(".pagetop a").on("click",function(){return i($("#wrap"),"#wrap","Power2.easeInOut",.6,0),!1}),$(".zoom")[0]&&o.append('<div class="zoomWrap"><img src="/images/blank.gif" alt="" class="zoomImg"></div><div class="zoomBg"></div>');var g=0,_=new TimelineMax,v=new TimelineMax;_.staggerTo("#inquiry .btn01, #inquiry .btn02, #news",.5,{x:"300px",ease:Back.easeIn.config(2)},.02,"out").staggerTo("#gnav li",.3,{x:"-300px",ease:Back.easeIn.config(2)},.02,"out+=0").fromTo(".zoomBg",.3,{opacity:0},{opacity:.75,ease:Linear.easeNone,onComplete:function(){g=l.scrollTop(),$(".menu__button").addClass("open"),$("body").css({height:a.height(),overflow:"hidden"}),TweenMax.set("#wrap",{marginTop:-g}),TweenMax.set(window,{scrollTo:{y:0}})}},"out+=0.2").pause(),v.to("#inquiry .btn01, #inquiry .btn02, #news",.4,{x:0,ease:Back.easeOut.config(2)},"out").to("#gnav li",.4,{x:0,ease:Back.easeOut.config(2)},"out+=0").to(".zoomBg",.4,{opacity:0,ease:Linear.easeNone,onComplete:function(){$(this.target).hide()}},"out+=0").to(".zoomWrap",.4,{opacity:0,scale:.95,ease:Power3.easeInOut,onComplete:function(){$(".zoomImg").attr("src",""),$(this.target).hide()}},"out+=0").pause(),$(".zoom").on("click",function(){return n($(this),$(this).find("img").data("zoom")),!1}),$(".zoomWrap").on("click",function(){return r(),!1}),a.on("scroll",function(){u=l.scrollTop(),h=l.scrollLeft()}),l.on("mousemove",function(){}),a.on("resize",function(){}),a.blur(function(){}),a.focus(function(){})});